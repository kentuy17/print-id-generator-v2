import{j as e,r as j,$ as A,L as k}from"./app-8u4XjYch.js";import{g as z,h as _,i as $,j as H,D as N,l as L,M as U,c as w,m as E,e as p,n as q,o as B,S as G,p as O,q as K,a as P,A as y,b,C as J,d,E as Q,f as Z,r as W,s as X,t as Y,Q as ee,v as se,w as ae,x as te,y as le,P as re}from"./AuthenticatedLayout-DqKmIH14.js";import{C as ne,m as ie,n as oe,o as ce,p as S,q as I,r as de,u as xe,T as me,a as ue,b as f,c as he,f as F,d as ge,e as V,g as je,h as pe,i as fe,j as ve,k as Ne,l as we}from"./command-DMu-X7tF.js";import{c as g,d as Ce,B as o}from"./button-BtLD4Ebk.js";import{S as ye,c as be,d as Se,e as Ie,f as Fe,P as Ve,a as Me,b as De}from"./select-ChpQAsBf.js";import{I as M}from"./input-DxVPZQDH.js";import{ViewTouristDialog as Pe}from"./View-ChRAoaPb.js";import{DeleteTouristDialog as Re}from"./Delete-B-WXs5QO.js";import{Print as Te}from"./Print-DUUpAeGe.js";import{c as Ae}from"./index-4YbGl6Zp.js";import"./index-DAa-CRdv.js";import"./index-YPWYFSg4.js";import"./x-BIvdIonN.js";import"./dialog-ChK_gbb6.js";import"./index-DGbYRwmJ.js";import"./label-BDtU2UQC.js";import"./index-jjEyZ7Ll.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ze=Ae("SquarePen",ke),_e=Ce("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function v({className:s,variant:a,...t}){return e.jsx("div",{className:g(_e({variant:a}),s),...t})}function $e({table:s}){return e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[s.getFilteredSelectedRowModel().rows.length," of"," ",s.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),e.jsxs(ye,{value:`${s.getState().pagination.pageSize}`,onValueChange:a=>{s.setPageSize(Number(a))},children:[e.jsx(be,{className:"h-8 w-[70px]",children:e.jsx(Se,{placeholder:s.getState().pagination.pageSize})}),e.jsx(Ie,{side:"top",children:[10,20,30,40,50].map(a=>e.jsx(Fe,{value:`${a}`,children:a},a))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",s.getState().pagination.pageIndex+1," of"," ",s.getPageCount()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(o,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(z,{className:"h-4 w-4"})]}),e.jsxs(o,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx(_,{className:"h-4 w-4"})]}),e.jsxs(o,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx($,{className:"h-4 w-4"})]}),e.jsxs(o,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx(H,{className:"h-4 w-4"})]})]})]})]})}function He({table:s}){return e.jsxs(N,{children:[e.jsx(L,{asChild:!0,children:e.jsxs(o,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsxs(w,{align:"end",className:"w-[150px]",children:[e.jsx(E,{children:"Toggle columns"}),e.jsx(p,{}),s.getAllColumns().filter(a=>typeof a.accessorFn<"u"&&a.getCanHide()).map(a=>e.jsx(q,{className:"capitalize",checked:a.getIsVisible(),onCheckedChange:t=>a.toggleVisibility(!!t),children:a.id},a.id))]})]})}function Le({column:s,title:a,options:t}){const n=s==null?void 0:s.getFacetedUniqueValues(),r=new Set(s==null?void 0:s.getFilterValue());return e.jsxs(Ve,{children:[e.jsx(Me,{asChild:!0,children:e.jsxs(o,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),a,(r==null?void 0:r.size)>0&&e.jsxs(e.Fragment,{children:[e.jsx(G,{orientation:"vertical",className:"mx-2 h-4"}),e.jsx(v,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:r.size}),e.jsx("div",{className:"hidden space-x-1 lg:flex",children:r.size>2?e.jsxs(v,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[r.size," selected"]}):t.filter(l=>r.has(l.value)).map(l=>e.jsx(v,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:l.label},l.value))})]})]})}),e.jsx(De,{className:"w-[200px] p-0",align:"start",children:e.jsxs(ne,{children:[e.jsx(ie,{placeholder:a}),e.jsxs(oe,{children:[e.jsx(ce,{children:"No results found."}),e.jsx(S,{children:t.map(l=>{const c=r.has(l.value);return e.jsxs(I,{className:"cursor-pointer",onSelect:()=>{c?r.delete(l.value):r.add(l.value);const m=Array.from(r);s==null||s.setFilterValue(m.length?m:void 0)},children:[e.jsx("div",{className:g("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",c?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(O,{className:g("h-4 w-4")})}),l.icon&&e.jsx(l.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:l.label}),(n==null?void 0:n.get(l.value))&&e.jsx("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:n.get(l.value)})]},l.value)})}),r.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(de,{}),e.jsx(S,{children:e.jsx(I,{onSelect:()=>s==null?void 0:s.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}function Ue({table:s}){var t,n;const a=s.getState().columnFilters.length>0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-center space-x-2",children:[e.jsx(M,{placeholder:"Filter by Name...",value:((t=s.getColumn("name"))==null?void 0:t.getFilterValue())??"",onChange:r=>{var l;return(l=s.getColumn("name"))==null?void 0:l.setFilterValue(r.target.value)},className:"h-8 w-[150px] lg:w-[250px]"}),e.jsx(M,{placeholder:"Filter Nationality...",value:((n=s.getColumn("nationality"))==null?void 0:n.getFilterValue())??"",onChange:r=>{var l;return(l=s.getColumn("nationality"))==null?void 0:l.setFilterValue(r.target.value)},className:"h-8 w-[150px] lg:w-[250px]"})," ",s.getColumn("nationality")&&e.jsx(Le,{column:s.getColumn("nationality"),title:"Status",options:[{value:"Active",label:"Active"},{value:"Away",label:"Away"},{value:"Idle",label:"Idle"},{value:"Offline",label:"Offline"}]}),a&&e.jsxs(o,{variant:"ghost",onClick:()=>s.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(K,{className:"ml-2 h-4 w-4"})]})]}),e.jsx(He,{table:s})]})}function Ee({columns:s,data:a}){var C;const[t,n]=j.useState({}),[r,l]=j.useState({}),[c,m]=j.useState([]),[R,T]=j.useState([]),u=xe({data:a,columns:s,state:{sorting:R,columnVisibility:r,rowSelection:t,columnFilters:c},initialState:{sortBy:[{id:"status",desc:!1}]},enableRowSelection:!0,onRowSelectionChange:n,onSortingChange:T,onColumnFiltersChange:m,onColumnVisibilityChange:l,getCoreRowModel:we(),getFilteredRowModel:Ne(),getPaginationRowModel:ve(),getSortedRowModel:fe(),getFacetedRowModel:pe(),getFacetedUniqueValues:je()});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ue,{table:u}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(me,{children:[e.jsx(ue,{children:u.getHeaderGroups().map(x=>e.jsx(f,{children:x.headers.map(i=>e.jsx(he,{colSpan:i.colSpan,children:i.isPlaceholder?null:F(i.column.columnDef.header,i.getContext())},i.id))},x.id))}),e.jsx(ge,{children:(C=u.getRowModel().rows)!=null&&C.length?u.getRowModel().rows.map(x=>e.jsx(f,{"data-state":x.original.status==="Active"&&"selected",children:x.getVisibleCells().map(i=>e.jsx(V,{children:F(i.column.columnDef.cell,i.getContext())},i.id))},x.id)):e.jsx(f,{children:e.jsx(V,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx($e,{table:u})]})}function h({column:s,title:a,className:t}){return s.getCanSort()?e.jsx("div",{className:g("flex items-center space-x-2",t),children:e.jsxs(N,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(o,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[e.jsx("span",{children:a}),s.getIsSorted()==="desc"?e.jsx(y,{className:"ml-2 h-4 w-4"}):s.getIsSorted()==="asc"?e.jsx(b,{className:"ml-2 h-4 w-4"}):e.jsx(J,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(w,{align:"start",children:[e.jsxs(d,{onClick:()=>s.toggleSorting(!1),children:[e.jsx(b,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),e.jsxs(d,{onClick:()=>s.toggleSorting(!0),children:[e.jsx(y,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),e.jsx(p,{}),e.jsxs(d,{onClick:()=>s.toggleVisibility(!1),children:[e.jsx(Q,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})}):e.jsx("div",{className:g(t),children:a})}function qe({row:s}){return e.jsxs(N,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(o,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(w,{align:"end",className:"w-[160px]",children:[e.jsx(d,{asChild:!0,children:e.jsx(Te,{row:s})}),e.jsx(p,{}),e.jsx(d,{asChild:!0,children:e.jsx(Pe,{row:s})}),e.jsx(d,{children:e.jsxs(A,{href:route("tourist.edit",s.original.id),className:"flex space-between w-full items-center",children:["Edit"," ",e.jsx(W,{children:e.jsx(ze,{className:"h-4 w-4"})})]})}),e.jsx(p,{}),e.jsx(d,{asChild:!0,children:e.jsx(Re,{row:s})})]})]})}const D=[{value:"Active",label:"Active",icon:X},{value:"Idle",label:"Idle",icon:Y},{value:"Away",label:"Away",icon:ee},{value:"Offline",label:"Offline",icon:se}],Be=[{accessorKey:"id_no",header:({column:s})=>e.jsx(h,{column:s,title:"ID",className:"pl-3"}),cell:({row:s})=>e.jsxs("div",{className:"w-[80px] pl-3",children:["#",s.getValue("id_no")]}),enableSorting:!0,enableHiding:!0},{accessorKey:"name",header:({column:s})=>e.jsx(h,{column:s,title:"Name"}),cell:({row:s})=>{let a=D[Math.floor(Math.random()*D.length)].value,t=s.original.first_name,n=s.original.last_name;({M:"boy",F:"girl"})[s.original.gender];let r=`${t} ${n}`,l=s.original.country.toUpperCase();const c={Iran:"IR","United States":"US","United Kingdom":"GB",Canada:"CA",Australia:"AU",Germany:"DE",France:"FR",Spain:"ES",Italy:"IT",Japan:"JP",China:"CN",Zimbabwe:"ZW"};return Object.keys(c).includes(s.original.country)&&(l=c[s.original.country]),e.jsxs("div",{className:"flex space-x-2 ml-4 items-center",children:[e.jsx("div",{className:`avatar ${a.toLowerCase()}`,children:e.jsxs(ae,{className:"h-8 w-8 rounded-lg",children:[e.jsx(te,{src:`https://flagsapi.com/${l.slice(0,2)}/flat/64.png`,alt:"Avatar"}),e.jsx(le,{className:"font-semi-bold",children:`${t[0]}${n[0]}`})]})}),e.jsx("span",{className:"max-w-[500px] truncate font-medium",children:r})]})},filterFn:(s,a,t)=>{const n=s.getValue("firstName");return console.log(n,"rowValue"),t.includes(n.toLowerCase())}},{accessorKey:"nationality",header:({column:s})=>e.jsx(h,{column:s,title:"Nationality"}),cell:({row:s})=>e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:s.getValue("nationality")})}),toggleSorting:!0,filterFn:(s,a,t)=>t.includes(s.getValue(a))},{accessorKey:"phone_number",header:({column:s})=>e.jsx(h,{column:s,title:"Phone Number"}),cell:({row:s})=>e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:s.getValue("phone_number")})}),filterFn:(s,a,t)=>t.includes(s.getValue(a))},{accessorKey:"arrival_date",header:({column:s})=>e.jsx(h,{column:s,title:"Arrival Date"}),cell:({row:s})=>e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:s.getValue("arrival_date")})}),filterFn:(s,a,t)=>t.includes(s.getValue(a))},{id:"actions",cell:({row:s})=>e.jsx(qe,{row:s})}];function os({data:s}){return e.jsxs(re,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Tourist"}),breadcrumb:"Tourist",subBread:"View All",children:[e.jsx(k,{title:"Tourists"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsx(Ee,{data:s,columns:Be})})})})]})}export{os as default};
