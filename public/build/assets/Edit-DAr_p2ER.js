import{R as m,u as F,h,j as e,L as I,S as y}from"./app-CLxL74cB.js";import{P}from"./AuthenticatedLayout-FNBPBHFS.js";import{B as p}from"./button-C8IOe_6Y.js";import{u as L,F as k,m as R,a as r,b as o,c as i,d as c,e as l,f as x,D as _,s as B,n as V}from"./date-picker-Dh3LFmct.js";import{C as Y,a as M,b as T,c as O,d as U}from"./card-DgW1V8ux.js";import{I as j}from"./input-D18HD6kV.js";import{T as $}from"./textarea-D7eGJz2M.js";import"./index-cbqACyQa.js";import"./index-D1xUvb-1.js";import"./index-B8NKjWkD.js";import"./x-BgIleQgA.js";import"./label-DIE-XY19.js";import"./calendar-BUxsGz5-.js";import"./popover-D8u-DhpO.js";function ne({event:n}){const[u,z]=m.useState(0),[f,v]=m.useState(null),[g,b]=m.useState(null),[E,N]=m.useState(!1),{date:w}=F();let D={id:n.id,eventName:n.name,details:n.description,location:n.location,eventDate:h(),contact_number:n.contact_number,image:null};const s=L({resolver:B(V),defaultValues:D}),S=t=>{const d=t.target.files[0];N(!0),d&&(b(d),v(URL.createObjectURL(d)))},C=t=>{const d=s.getValues(),a=new FormData;a.append("id",n.id),a.append("eventName",t.eventName),a.append("details",t.details),a.append("location",t.location),a.append("eventDate",h(w).format("YYYY-MM-DD")),a.append("contact_number",d.contact_number),a.append("image",g),y.post(route("event.update"),a)};return e.jsxs(P,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Edit Event"}),breadcrumb:"Event",subBread:"Edit",children:[e.jsx(I,{title:"Edit Event"}),e.jsx("div",{className:"py-4",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs(Y,{className:"max-w",children:[e.jsxs(M,{children:[e.jsx(T,{children:"Edit Event"}),e.jsx(O,{children:"Edit the details of the event."})]}),e.jsx(U,{children:e.jsx(k,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(C),className:"relative space-y-3 overflow-x-hidden",children:[e.jsxs(R.div,{className:"space-y-3",animate:{translateX:`-${u*100}%`},transition:{ease:"easeInOut"},children:[e.jsx(r,{control:s.control,name:"eventName",render:({field:t})=>e.jsxs(o,{children:[e.jsx(i,{children:"Event name"}),e.jsx(c,{children:e.jsx(j,{placeholder:"Enter event...",...t})}),e.jsx(l,{})]})}),e.jsx(r,{control:s.control,name:"details",render:({field:t})=>e.jsxs(o,{children:[e.jsx(i,{children:"Details"}),e.jsx(c,{children:e.jsx($,{placeholder:"Enter details...",className:"resize-none",...t})}),e.jsx(x,{children:"Detailed description of the event."}),e.jsx(l,{})]})}),e.jsx(r,{control:s.control,name:"image",render:({field:t})=>e.jsxs(o,{children:[e.jsx(i,{children:"Picture"}),e.jsx(c,{children:e.jsx(j,{id:"picture",type:"file",...t,className:"cursor-pointer",onChange:S})}),E?e.jsx(x,{children:e.jsx("img",{src:f,alt:"Preview",width:"200"})}):e.jsx(x,{children:e.jsx("img",{src:`/images/${n.image}`,alt:"Preview",width:"200"})}),e.jsx(l,{})]})}),e.jsx(r,{control:s.control,name:"location",render:({field:t})=>e.jsxs(o,{children:[e.jsx(i,{children:"Location"}),e.jsx(c,{children:e.jsx(j,{placeholder:"Enter Location to held...",...t})}),e.jsx(l,{})]})}),e.jsx(r,{control:s.control,name:"eventDate",render:({field:t})=>e.jsxs(o,{children:[e.jsx(i,{children:"Event Date"}),e.jsx(c,{children:e.jsx(_,{...t})}),e.jsx(l,{})]})}),e.jsx(r,{control:s.control,name:"contact_number",render:({field:t})=>e.jsxs(o,{children:[e.jsx(i,{children:"Contact Number"}),e.jsx(c,{children:e.jsx(j,{placeholder:"Enter contact number...",...t})}),e.jsx(x,{children:"Person to contact for more information"}),e.jsx(l,{})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{variant:"outline",onClick:()=>window.history.back(),children:"Back"}),e.jsx(p,{type:"submit",children:"Save"})]})]})})})]})})})]})}export{ne as default};
