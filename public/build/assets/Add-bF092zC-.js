import{r as C,R as O,h as N,m as F,u as _,j as e,L as M}from"./app-CLxL74cB.js";import{P as V}from"./AuthenticatedLayout-FNBPBHFS.js";import{c as f,B as g}from"./button-C8IOe_6Y.js";import{u as R,F as w,m as b,a as o,b as l,c as i,d as c,e as d,D as P,s as k,r as L}from"./date-picker-Dh3LFmct.js";import{C as Y,a as B,b as X,c as G,d as $}from"./card-DgW1V8ux.js";import"./label-DIE-XY19.js";import{S as z,a as U,b as Z,c as H,d as Q}from"./select-BmbNATu0.js";import{I as x}from"./input-D18HD6kV.js";import{A as q}from"./arrow-right-ChhHCV8V.js";import"./index-cbqACyQa.js";import"./index-D1xUvb-1.js";import"./index-B8NKjWkD.js";import"./x-BgIleQgA.js";import"./calendar-BUxsGz5-.js";import"./popover-D8u-DhpO.js";import"./index-CzDFdiH0.js";const J=1,K=1e6;let A=0;function W(){return A=(A+1)%Number.MAX_SAFE_INTEGER,A.toString()}const E=new Map,D=r=>{if(E.has(r))return;const t=setTimeout(()=>{E.delete(r),p({type:"REMOVE_TOAST",toastId:r})},K);E.set(r,t)},ee=(r,t)=>{switch(t.type){case"ADD_TOAST":return{...r,toasts:[t.toast,...r.toasts].slice(0,J)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?D(a):r.toasts.forEach(m=>{D(m.id)}),{...r,toasts:r.toasts.map(m=>m.id===a||a===void 0?{...m,open:!1}:m)}}case"REMOVE_TOAST":return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(a=>a.id!==t.toastId)}}},S=[];let y={toasts:[]};function p(r){y=ee(y,r),S.forEach(t=>{t(y)})}function se({...r}){const t=W(),a=u=>p({type:"UPDATE_TOAST",toast:{...u,id:t}}),m=()=>p({type:"DISMISS_TOAST",toastId:t});return p({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:u=>{u||m()}}}),{id:t,dismiss:m,update:a}}function te(){const[r,t]=C.useState(y);return C.useEffect(()=>(S.push(t),()=>{const a=S.indexOf(t);a>-1&&S.splice(a,1)}),[r]),{...r,toast:se,dismiss:a=>p({type:"DISMISS_TOAST",toastId:a})}}function ye(){const{toast:r}=te(),[t,a]=O.useState(0);let m={firstName:"",lastName:"",phone:"",arrivalDate:N(),nationality:"",address:"",cityState:"",country:"",passportNumber:"",zip:"",gender:"",email:""};const{post:u,data:T}=F(m),n=R({resolver:k(L),defaultValues:m}),{date:v}=_();function I(){let s=n.getValues();s.arrivalDate=N(v).format("YYYY-MM-DD"),Object.keys(T).forEach(j=>{T[j]=s[j]}),console.log(T),u(route("tourist.store"),{onSuccess:j=>{r({title:"Tourist Added",description:"Tourist Added Successfully",status:"success",duration:9e3,isClosable:!0})}})}return e.jsxs(V,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Tourist"}),breadcrumb:"Tourist",subBread:"Add",children:[e.jsx(M,{title:"Add Tourist"}),e.jsx("div",{className:"py-4",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs(Y,{className:"max-w",children:[e.jsxs(B,{children:[e.jsx(X,{children:"Add Tourist"}),e.jsx(G,{children:"Please fill-up form with accurate data."})]}),e.jsx($,{children:e.jsx(w,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(I),className:"relative space-y-3 overflow-x-hidden",children:[e.jsxs(b.div,{className:"space-y-3",animate:{translateX:`-${t*100}%`},transition:{ease:"easeInOut"},children:[e.jsxs("div",{className:"columns-2 gap-3",children:[e.jsx(o,{control:n.control,name:"firstName",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"First name"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Enter firstname...",...s})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"lastName",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Last name"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Enter lastname...",...s})}),e.jsx(d,{})]})})]}),e.jsx(o,{control:n.control,name:"gender",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Gender"}),e.jsxs(z,{onValueChange:s.onChange,children:[e.jsx(c,{children:e.jsx(U,{children:e.jsx(Z,{placeholder:"Select gender"})})}),e.jsx(H,{children:["Male","Female"].map(h=>e.jsx(Q,{value:h,children:h},h))})]}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"phone",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Phone"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Enter phone number...",...s})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"arrivalDate",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Arrival Date"}),e.jsx(c,{children:e.jsx(P,{...s})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"nationality",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Nationality"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Enter nationality...",...s})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"passportNumber",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Passport#"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Enter passport number...",...s})}),e.jsx(d,{})]})})]}),e.jsxs(b.div,{className:f("space-y-3 absolute top-0 left-0 right-0",{}),animate:{translateX:`${100-t*100}%`},style:{translateX:`${100-t*100}%`},transition:{ease:"easeInOut"},children:[e.jsx(o,{control:n.control,name:"email",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Email"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Email address...",...s,type:"email"})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"address",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Address"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Current address...",...s,type:"text"})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"cityState",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"City/State"}),e.jsx(c,{children:e.jsx(x,{placeholder:"City or State...",...s,type:"text",onChange:h=>{n.setValue("cityState",h.target.value)}})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"country",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Country"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Country...",...s,type:"text"})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"zip",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Zip Code"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Zip Code...",...s,type:"text"})}),e.jsx(d,{})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{type:"submit",className:f({hidden:t==0}),onSubmit:()=>{let s=["cityState","country"];n.trigger(s)},children:"Submit"}),e.jsxs(g,{type:"button",variant:"ghost",className:f({hidden:t==1}),onClick:()=>{let s=!1,h=["firstName","lastName","nationality","phone"];n.trigger(h),h.forEach(j=>{if(!n.getFieldState(j).isDirty||n.getFieldState(j).invalid){console.log(j),s=!0;return}}),!s&&a(1)},children:["Next",e.jsx(q,{className:"w-4 h-4 ml-2"})]}),e.jsx(g,{type:"button",variant:"ghost",onClick:()=>{a(0)},className:f({hidden:t==0}),children:"Go Back"})]})]})})})]})})})]})}export{ye as default};
