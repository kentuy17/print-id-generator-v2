import{j as e,$ as M,r as g,L as T}from"./app-DentDv-F.js";import{D as w,a as F,A as S,b,C as A,c as v,d,e as j,E as k,f as E,g as z,h as H,i as B,j as L,k as q,l as $,m as G,n as K,o as O,M as U,p as _,q as J,r as Q,S as W,s as X,t as Y,P as Z}from"./AuthenticatedLayout-CJ4oyYZc.js";import{c as p,B as i}from"./button-CYS4Z4mX.js";import{ViewTouristDialog as ee}from"./View-4_ZLqgxs.js";import"./dialog-CPwcJY8u.js";import{I as se}from"./input-CVcUz5Si.js";import"./label-6HzZNMNY.js";import"./index-Dx_WtEws.js";import{DeleteDialog as ae}from"./Delete-Dn3iUIVA.js";import{S as te,B as f}from"./badge-Bed-fItw.js";import{C as le,a as ne,b as re,c as ie,d as y,e as I,f as oe,u as ce,g as de,h as xe,i as me,j as he,k as ge,l as ue,T as je,m as pe,n as N,o as fe,p as V,q as Ne,r as D}from"./command-D_RqNCc9.js";import{S as we,a as ve,b as Ce,c as Se,d as be,P as ye,e as Ie,f as Ve}from"./popover--oit0PHB.js";import"./index-BbQyhQz7.js";import"./index-Dzmv4FfJ.js";import"./index-CDgpXu39.js";import"./x-K-NI3FSu.js";import"./alert-dialog-BsbJwLHn.js";import"./index-BIpoOIKx.js";function u({column:s,title:a,className:t}){return s.getCanSort()?e.jsx("div",{className:p("flex items-center space-x-2",t),children:e.jsxs(w,{children:[e.jsx(F,{asChild:!0,children:e.jsxs(i,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[e.jsx("span",{children:a}),s.getIsSorted()==="desc"?e.jsx(S,{className:"ml-2 h-4 w-4"}):s.getIsSorted()==="asc"?e.jsx(b,{className:"ml-2 h-4 w-4"}):e.jsx(A,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(v,{align:"start",children:[e.jsxs(d,{onClick:()=>s.toggleSorting(!1),children:[e.jsx(b,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),e.jsxs(d,{onClick:()=>s.toggleSorting(!0),children:[e.jsx(S,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),e.jsx(j,{}),e.jsxs(d,{onClick:()=>s.toggleVisibility(!1),children:[e.jsx(k,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})}):e.jsx("div",{className:p(t),children:a})}function De({row:s}){return e.jsxs(w,{children:[e.jsx(F,{asChild:!0,children:e.jsxs(i,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(v,{align:"end",className:"w-[160px]",children:[e.jsx(j,{}),e.jsx(d,{asChild:!0,children:e.jsx(ee,{row:s})}),e.jsx(d,{children:e.jsxs(M,{href:route("tourist.edit",s.original.id),className:"flex space-between w-full items-center",children:["Edit"," ",e.jsx(z,{children:e.jsx(te,{className:"h-4 w-4"})})]})}),e.jsx(j,{}),e.jsx(d,{asChild:!0,children:e.jsx(ae,{row:s})})]})]})}const Fe=[{accessorKey:"name",header:({column:s})=>e.jsx(u,{column:s,title:"Event Name"}),cell:({row:s})=>e.jsxs("div",{className:"flex space-x-2 ml-4 items-center",children:[e.jsx("div",{children:e.jsxs(H,{className:"h-20 w-20 rounded-lg border",children:[e.jsx(B,{src:`/images/${s.original.image}`,alt:s.getValue("name")}),e.jsx(L,{className:"font-semi-bold",children:"NA"})]})}),e.jsx("span",{className:"max-w-[500px] truncate font-medium",children:s.getValue("name")})]}),toggleSorting:!0,filterFn:(s,a,t)=>t.includes(s.getValue(a))},{accessorKey:"description",header:({column:s})=>e.jsx(u,{column:s,title:"Details"}),cell:({row:s})=>e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"max-w-[250px] font-medium",children:s.getValue("description")})}),toggleSorting:!0,filterFn:(s,a,t)=>t.includes(s.getValue(a))},{accessorKey:"location",header:({column:s})=>e.jsx(u,{column:s,title:"Event Location"}),cell:({row:s})=>e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:s.getValue("location")})}),filterFn:(s,a,t)=>t.includes(s.getValue(a))},{accessorKey:"date",header:({column:s})=>e.jsx(u,{column:s,title:"Event Date"}),cell:({row:s})=>e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:s.getValue("date")})}),filterFn:(s,a,t)=>t.includes(s.getValue(a))},{id:"actions",cell:({row:s})=>e.jsx(De,{row:s})}];function Pe({table:s}){return e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),e.jsxs(we,{value:`${s.getState().pagination.pageSize}`,onValueChange:a=>{s.setPageSize(Number(a))},children:[e.jsx(ve,{className:"h-8 w-[70px]",children:e.jsx(Ce,{placeholder:s.getState().pagination.pageSize})}),e.jsx(Se,{side:"top",children:[10,20,30,40,50].map(a=>e.jsx(be,{value:`${a}`,children:a},a))})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",s.getState().pagination.pageIndex+1," of"," ",s.getPageCount()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(i,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(q,{className:"h-4 w-4"})]}),e.jsxs(i,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx($,{className:"h-4 w-4"})]}),e.jsxs(i,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx(G,{className:"h-4 w-4"})]}),e.jsxs(i,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx(K,{className:"h-4 w-4"})]})]})]})]})}function Re({table:s}){return e.jsxs(w,{children:[e.jsx(O,{asChild:!0,children:e.jsxs(i,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsxs(v,{align:"end",className:"w-[150px]",children:[e.jsx(_,{children:"Toggle columns"}),e.jsx(j,{}),s.getAllColumns().filter(a=>typeof a.accessorFn<"u"&&a.getCanHide()).map(a=>e.jsx(J,{className:"capitalize",checked:a.getIsVisible(),onCheckedChange:t=>a.toggleVisibility(!!t),children:a.id},a.id))]})]})}function Me({column:s,title:a,options:t}){const o=s==null?void 0:s.getFacetedUniqueValues(),l=new Set(s==null?void 0:s.getFilterValue());return e.jsxs(ye,{children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(i,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),a,(l==null?void 0:l.size)>0&&e.jsxs(e.Fragment,{children:[e.jsx(W,{orientation:"vertical",className:"mx-2 h-4"}),e.jsx(f,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:l.size}),e.jsx("div",{className:"hidden space-x-1 lg:flex",children:l.size>2?e.jsxs(f,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[l.size," selected"]}):t.filter(n=>l.has(n.value)).map(n=>e.jsx(f,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:n.label},n.value))})]})]})}),e.jsx(Ve,{className:"w-[200px] p-0",align:"start",children:e.jsxs(le,{children:[e.jsx(ne,{placeholder:a}),e.jsxs(re,{children:[e.jsx(ie,{children:"No results found."}),e.jsx(y,{children:t.map(n=>{const m=l.has(n.value);return e.jsxs(I,{className:"cursor-pointer",onSelect:()=>{m?l.delete(n.value):l.add(n.value);const h=Array.from(l);s==null||s.setFilterValue(h.length?h:void 0)},children:[e.jsx("div",{className:p("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",m?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(X,{className:p("h-4 w-4")})}),n.icon&&e.jsx(n.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:n.label}),(o==null?void 0:o.get(n.value))&&e.jsx("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:o.get(n.value)})]},n.value)})}),l.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(oe,{}),e.jsx(y,{children:e.jsx(I,{onSelect:()=>s==null?void 0:s.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}function Te({table:s}){var t;const a=s.getState().columnFilters.length>0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-center space-x-2",children:[e.jsx(se,{placeholder:"Filter by Event name...",value:((t=s.getColumn("name"))==null?void 0:t.getFilterValue())??"",onChange:o=>{var l;return(l=s.getColumn("name"))==null?void 0:l.setFilterValue(o.target.value)},className:"h-8 w-[150px] lg:w-[250px]"})," ",s.getColumn("location")&&e.jsx(Me,{column:s.getColumn("location"),title:"Status",options:[{value:"Active",label:"Active"},{value:"Away",label:"Away"},{value:"Idle",label:"Idle"},{value:"Offline",label:"Offline"}]}),a&&e.jsxs(i,{variant:"ghost",onClick:()=>s.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(Y,{className:"ml-2 h-4 w-4"})]})]}),e.jsx(Re,{table:s})]})}function Ae({columns:s,data:a}){var C;const[t,o]=g.useState({}),[l,n]=g.useState({}),[m,h]=g.useState([]),[P,R]=g.useState([]),x=ce({data:a,columns:s,state:{sorting:P,columnVisibility:l,rowSelection:t,columnFilters:m},initialState:{sortBy:[{id:"status",desc:!1}]},enableRowSelection:!0,onRowSelectionChange:o,onSortingChange:R,onColumnFiltersChange:h,onColumnVisibilityChange:n,getCoreRowModel:ue(),getFilteredRowModel:ge(),getPaginationRowModel:he(),getSortedRowModel:me(),getFacetedRowModel:xe(),getFacetedUniqueValues:de()});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(Te,{table:x}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(je,{children:[e.jsx(pe,{children:x.getHeaderGroups().map(c=>e.jsx(N,{children:c.headers.map(r=>e.jsx(fe,{colSpan:r.colSpan,children:r.isPlaceholder?null:V(r.column.columnDef.header,r.getContext())},r.id))},c.id))}),e.jsx(Ne,{children:(C=x.getRowModel().rows)!=null&&C.length?x.getRowModel().rows.map(c=>e.jsx(N,{"data-state":c.original.status==="Active"&&"selected",children:c.getVisibleCells().map(r=>e.jsx(D,{children:V(r.column.columnDef.cell,r.getContext())},r.id))},c.id)):e.jsx(N,{children:e.jsx(D,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(Pe,{table:x})]})}const Ze=({events:s})=>(console.log(s),e.jsxs(Z,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Event"}),breadcrumb:"Event",subBread:"View All",children:[e.jsx(T,{title:"Events"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsx(Ae,{data:s,columns:Fe})})})})]}));export{Ze as default};
