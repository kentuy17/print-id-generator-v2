import{r as C,R as O,h as N,m as F,u as _,j as e,L as M}from"./app-vpnr3FP-.js";import{P as V}from"./AuthenticatedLayout-BwiOrl3Y.js";import{c as f,B as g}from"./button-BIenkKbj.js";import{u as R,F as w,m as b,a as o,b as l,c as i,d as c,e as d,D as P,A as k,s as L,r as Y}from"./date-picker-CQdMjVqt.js";import{C as B,a as X,b as G,c as $,d as z}from"./card-4pYFT19M.js";import"./label-DcJkKqrb.js";import{S as U,c as Z,d as H,e as Q,f as q}from"./select-BxPqZbeY.js";import{I as m}from"./input-BkjICR55.js";import"./index-DbaF6d44.js";import"./index-TEAfXS-E.js";import"./index-Dej0U1ij.js";import"./x-UD4VGpFG.js";import"./calendar-CQRC1V7d.js";import"./index-DH8eGQ39.js";const J=1,K=1e6;let A=0;function W(){return A=(A+1)%Number.MAX_SAFE_INTEGER,A.toString()}const E=new Map,D=r=>{if(E.has(r))return;const t=setTimeout(()=>{E.delete(r),p({type:"REMOVE_TOAST",toastId:r})},K);E.set(r,t)},ee=(r,t)=>{switch(t.type){case"ADD_TOAST":return{...r,toasts:[t.toast,...r.toasts].slice(0,J)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?D(a):r.toasts.forEach(x=>{D(x.id)}),{...r,toasts:r.toasts.map(x=>x.id===a||a===void 0?{...x,open:!1}:x)}}case"REMOVE_TOAST":return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(a=>a.id!==t.toastId)}}},S=[];let y={toasts:[]};function p(r){y=ee(y,r),S.forEach(t=>{t(y)})}function se({...r}){const t=W(),a=u=>p({type:"UPDATE_TOAST",toast:{...u,id:t}}),x=()=>p({type:"DISMISS_TOAST",toastId:t});return p({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:u=>{u||x()}}}),{id:t,dismiss:x,update:a}}function te(){const[r,t]=C.useState(y);return C.useEffect(()=>(S.push(t),()=>{const a=S.indexOf(t);a>-1&&S.splice(a,1)}),[r]),{...r,toast:se,dismiss:a=>p({type:"DISMISS_TOAST",toastId:a})}}function fe(){const{toast:r}=te(),[t,a]=O.useState(0);let x={firstName:"",lastName:"",phone:"",arrivalDate:N(),nationality:"",address:"",cityState:"",country:"",passportNumber:"",zip:"",gender:"",email:""};const{post:u,data:T}=F(x),n=R({resolver:L(Y),defaultValues:x}),{date:v}=_();function I(){let s=n.getValues();s.arrivalDate=N(v).format("YYYY-MM-DD"),Object.keys(T).forEach(j=>{T[j]=s[j]}),console.log(T),u(route("tourist.store"),{onSuccess:j=>{r({title:"Tourist Added",description:"Tourist Added Successfully",status:"success",duration:9e3,isClosable:!0})}})}return e.jsxs(V,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Tourist"}),breadcrumb:"Tourist",subBread:"Add",children:[e.jsx(M,{title:"Add Tourist"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs(B,{className:"max-w",children:[e.jsxs(X,{children:[e.jsx(G,{children:"Add Tourist"}),e.jsx($,{children:"Please fill-up form with accurate data."})]}),e.jsx(z,{children:e.jsx(w,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(I),className:"relative space-y-3 overflow-x-hidden",children:[e.jsxs(b.div,{className:"space-y-3",animate:{translateX:`-${t*100}%`},transition:{ease:"easeInOut"},children:[e.jsxs("div",{className:"columns-2 gap-3",children:[e.jsx(o,{control:n.control,name:"firstName",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"First name"}),e.jsx(c,{children:e.jsx(m,{placeholder:"Enter firstname...",...s})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"lastName",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Last name"}),e.jsx(c,{children:e.jsx(m,{placeholder:"Enter lastname...",...s})}),e.jsx(d,{})]})})]}),e.jsx(o,{control:n.control,name:"gender",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Gender"}),e.jsxs(U,{onValueChange:s.onChange,children:[e.jsx(c,{children:e.jsx(Z,{children:e.jsx(H,{placeholder:"Select gender"})})}),e.jsx(Q,{children:["Male","Female"].map(h=>e.jsx(q,{value:h,children:h},h))})]}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"phone",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Phone"}),e.jsx(c,{children:e.jsx(m,{placeholder:"Enter phone number...",...s})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"arrivalDate",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Arrival Date"}),e.jsx(c,{children:e.jsx(P,{...s})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"nationality",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Nationality"}),e.jsx(c,{children:e.jsx(m,{placeholder:"Enter nationality...",...s})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"passportNumber",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Passport#"}),e.jsx(c,{children:e.jsx(m,{placeholder:"Enter passport number...",...s})}),e.jsx(d,{})]})})]}),e.jsxs(b.div,{className:f("space-y-3 absolute top-0 left-0 right-0",{}),animate:{translateX:`${100-t*100}%`},style:{translateX:`${100-t*100}%`},transition:{ease:"easeInOut"},children:[e.jsx(o,{control:n.control,name:"email",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Email"}),e.jsx(c,{children:e.jsx(m,{placeholder:"Email address...",...s,type:"email"})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"address",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Address"}),e.jsx(c,{children:e.jsx(m,{placeholder:"Current address...",...s,type:"text"})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"cityState",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"City/State"}),e.jsx(c,{children:e.jsx(m,{placeholder:"City or State...",...s,type:"text",onChange:h=>{n.setValue("cityState",h.target.value)}})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"country",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Country"}),e.jsx(c,{children:e.jsx(m,{placeholder:"Country...",...s,type:"text"})}),e.jsx(d,{})]})}),e.jsx(o,{control:n.control,name:"zip",render:({field:s})=>e.jsxs(l,{children:[e.jsx(i,{children:"Zip Code"}),e.jsx(c,{children:e.jsx(m,{placeholder:"Zip Code...",...s,type:"text"})}),e.jsx(d,{})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{type:"submit",className:f({hidden:t==0}),onSubmit:()=>{let s=["cityState","country"];n.trigger(s)},children:"Submit"}),e.jsxs(g,{type:"button",variant:"ghost",className:f({hidden:t==1}),onClick:()=>{let s=!1,h=["firstName","lastName","nationality","phone"];n.trigger(h),h.forEach(j=>{if(!n.getFieldState(j).isDirty||n.getFieldState(j).invalid){console.log(j),s=!0;return}}),!s&&a(1)},children:["Next",e.jsx(k,{className:"w-4 h-4 ml-2"})]}),e.jsx(g,{type:"button",variant:"ghost",onClick:()=>{a(0)},className:f({hidden:t==0}),children:"Go Back"})]})]})})})]})})})]})}export{fe as default};
