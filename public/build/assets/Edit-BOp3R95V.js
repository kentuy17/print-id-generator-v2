import{R as C,h as f,m as F,u as b,j as e,L as D}from"./app-8u4XjYch.js";import{P as E}from"./AuthenticatedLayout-DqKmIH14.js";import{c as h,B as p}from"./button-BtLD4Ebk.js";import{u as M,F as k,m as g,a as t,b as n,c as l,d as o,e as i,D as w,A as I,s as A,r as V}from"./date-picker-eXHCMJIp.js";import{C as L,a as _,b as P,c as T,d as z}from"./card-QofHGZsq.js";import"./label-BDtU2UQC.js";import{S as R,c as Y,d as B,e as O,f as X}from"./select-ChpQAsBf.js";import{I as d}from"./input-DxVPZQDH.js";import{c as $}from"./index-4YbGl6Zp.js";import"./index-DAa-CRdv.js";import"./index-YPWYFSg4.js";import"./x-BIvdIonN.js";import"./calendar-BbE0sywg.js";import"./index-DGbYRwmJ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Z=$("ArrowLeft",H);function oe({tourist:a}){const[m,u]=C.useState(0);let y={id:a.id,firstName:a.first_name,lastName:a.last_name,phone:a.phone_number,arrivalDate:f(),nationality:a.nationality,address:a.address,cityState:a.city,country:a.country,passportNumber:a.passport_number,zip:a.zip_code,gender:a.gender==="M"?"Male":"Female",email:a.email};const{data:j,patch:S}=F(y),r=M({resolver:A(V),defaultValues:y}),{date:N}=b();function v(){let s=r.getValues();s.arrivalDate=f(N).format("YYYY-MM-DD"),j.gender=s.gender==="Male"?"M":"F",Object.keys(j).forEach(x=>{j[x]=s[x]}),S(route("tourist.update",a.id),{onSuccess:x=>{alert("Info Updated Successfully")}})}return e.jsxs(E,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Tourist"}),children:[e.jsx(D,{title:"Add Tourist"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsxs(L,{className:"max-w",children:[e.jsxs(_,{children:[e.jsx(P,{children:"Add Tourist"}),e.jsx(T,{children:"Please fill-up form with accurate data."})]}),e.jsx(z,{children:e.jsx(k,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(v),className:"relative space-y-3 overflow-x-hidden",children:[e.jsxs(g.div,{className:"space-y-3",animate:{translateX:`-${m*100}%`},transition:{ease:"easeInOut"},children:[e.jsxs("div",{className:"columns-2 gap-3",children:[e.jsx(t,{control:r.control,name:"firstName",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"First name"}),e.jsx(o,{children:e.jsx(d,{placeholder:"Enter firstname...",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"lastName",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Last name"}),e.jsx(o,{children:e.jsx(d,{placeholder:"Enter lastname...",...s})}),e.jsx(i,{})]})})]}),e.jsx(t,{control:r.control,name:"gender",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Gender"}),e.jsxs(R,{onValueChange:s.onChange,defaultValue:a.gender=="F"?"Female":"Male",children:[e.jsx(o,{children:e.jsx(Y,{children:e.jsx(B,{placeholder:"Select gender"})})}),e.jsx(O,{children:["Male","Female"].map(c=>e.jsx(X,{value:c,children:c},c))})]}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Phone"}),e.jsx(o,{children:e.jsx(d,{placeholder:"Enter phone number...",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"arrivalDate",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Arrival Date"}),e.jsx(o,{children:e.jsx(w,{...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"nationality",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Nationality"}),e.jsx(o,{children:e.jsx(d,{placeholder:"Enter nationality...",...s})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"passportNumber",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Passport#"}),e.jsx(o,{children:e.jsx(d,{placeholder:"Enter passport number...",...s})}),e.jsx(i,{})]})})]}),e.jsxs(g.div,{className:h("space-y-3 absolute top-0 left-0 right-0",{}),animate:{translateX:`${100-m*100}%`},style:{translateX:`${100-m*100}%`},transition:{ease:"easeInOut"},children:[e.jsx(t,{control:r.control,name:"email",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Email"}),e.jsx(o,{children:e.jsx(d,{placeholder:"Email address...",...s,type:"email"})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"address",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Address"}),e.jsx(o,{children:e.jsx(d,{placeholder:"Current address...",...s,type:"text"})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"cityState",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"City/State"}),e.jsx(o,{children:e.jsx(d,{placeholder:"City or State...",...s,type:"text",onChange:c=>{r.setValue("cityState",c.target.value),console.log(c.target.value)}})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"country",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Country"}),e.jsx(o,{children:e.jsx(d,{placeholder:"Country...",...s,type:"text"})}),e.jsx(i,{})]})}),e.jsx(t,{control:r.control,name:"zip",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Zip Code"}),e.jsx(o,{children:e.jsx(d,{placeholder:"Zip Code...",...s,type:"text"})}),e.jsx(i,{})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{type:"button",variant:"ghost",className:h({hidden:m==1}),onClick:()=>{let s=!1,c=["firstName","lastName","nationality","phone"];r.trigger(c),c.forEach(x=>{if(r.getFieldState(x).invalid){console.log(x),console.log({...r.getFieldState(x),invalid:r.getFieldState(x).invalid,isDirty:r.getFieldState(x).isDirty}),s=!0;return}}),!s&&u(1)},children:["Next",e.jsx(I,{className:"w-4 h-4 ml-2"})]}),e.jsxs(p,{type:"button",variant:"ghost",onClick:()=>{u(0)},className:h({hidden:m==0}),children:[e.jsx(Z,{className:"w-4 h-4 ml-2"}),"Back"]}),e.jsx(p,{type:"submit",className:h({hidden:m==0}),onSubmit:()=>{let s=["cityState","country"];r.trigger(s)},children:"Save"})]})]})})})]})})})]})}export{oe as default};
